<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
    	
    	<record model="ir.ui.view" id="view_account_invoice_inherit_filter">
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.view_account_invoice_filter"/>
            <field name="arch" type="xml">
                <field name="partner_id" position="after">
                	<field name="reference_number"/>
                </field>
            </field>
        </record>
    
    	<record model="ir.ui.view" id="view_invoice_form_inherit">
	        <field name="name">view.invoice.form.inherit</field>
	        <field name="model">account.invoice</field>
	        <field name="inherit_id" ref="account.invoice_form"/>
	        <field name="arch" type="xml">
	        
	        	<xpath expr="//field[@name='fiscal_position']" position="after">
	        		<field name="reference" readonly="0" string = "Ký hiệu hóa đơn"/>
	        		<field name="reference_number" readonly="0" string = "Số hóa đơn"/>
	        	</xpath>
	        	
	        	<xpath expr="//field[@name='fiscal_position']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
	        	
        	</field>
        </record>
        
<!-- Modify Account Move -->
        <record id="view_account_move_filter_general_modify" model="ir.ui.view">
            <field name="name">account.move.filter.general.modify</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_account_move_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='date']" position="after">
                    <field name="date_document"/>
                </xpath>
                <xpath expr="//filter[@string='Entries Month']" position="after">
                	<filter string="Document Date" icon="terp-accessories-archiver" domain="[]" context="{'group_by':'date_document'}"/>
                </xpath>
            </field>
        </record>
        
        <record id="view_account_move_tree_general_modify" model="ir.ui.view">
            <field name="name">account.move.tree.general.modify</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='date']" position="after">
                    <field name="date_document"/>
                </xpath>
            </field>
        </record>
        
        <record id="view_account_move_form_general_modify" model="ir.ui.view">
            <field name="name">account.move.form.general.modify</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='date']" position="after">
                    <field name="date_document"/>
                </xpath>
                <xpath expr="//field[@name='line_id']/tree/field[@name='analytic_account_id']" position="after">
                    <field name="type_lctt" required='1'/>
                </xpath>
            </field>
        </record>
		  	
<!-- Modify Customer / Supplier Payment -->
		<record model="ir.ui.view" id="view_voucher_tree_general_modify">
	        <field name="name">view.vendor.tree.general.modify</field>
	        <field name="model">account.voucher</field>
	        <field name="inherit_id" ref="account_voucher.view_voucher_tree"/>
	        <field name="arch" type="xml">
	        	<xpath expr="//field[@name='date']" position="after">
	        		<field name="date_document"/>
	        	</xpath>
	        </field>
    	</record>
    	
<!-- Modify Sales / Purchase Receipt -->
		<record model="ir.ui.view" id="view_purchase_receipt_form_general_modify">
	        <field name="name">view.purchase.receipt.form.general.modify</field>
	        <field name="model">account.voucher</field>
	        <field name="inherit_id" ref="account_voucher.view_purchase_receipt_form"/>
	        <field name="arch" type="xml">
	        	<xpath expr="//field[@name='date']" position="after">
	        		<field name="date_document"/>
	        	</xpath>
	        	<xpath expr="//field[@name='line_dr_ids']/tree/field[@name='account_analytic_id']" position="after">
	        		<field name="type_lctt" required='1'/>
	        	</xpath>
	        	<xpath expr="//field[@name='journal_id']" position="replace">
	        		<field name="journal_id"
	                    domain="[('type','in',['cash','bank','purchase','purchase_refund'])]"
	                    widget="selection"
	                    on_change="onchange_journal(journal_id, line_dr_ids, tax_id, partner_id, date, amount, type, company_id, context)"
	                    groups="account.group_account_user"/>
	                <field name="company_bank_id" widget="selection"/>
	        	</xpath>
	        </field>
    	</record>
    	
    	<record model="ir.ui.view" id="view_sale_receipt_form_general_modify">
	        <field name="name">view.sale.receipt.form.general.modify</field>
	        <field name="model">account.voucher</field>
	        <field name="inherit_id" ref="account_voucher.view_sale_receipt_form"/>
	        <field name="arch" type="xml">
	        	<xpath expr="//field[@name='date']" position="after">
	        		<field name="date_document"/>
	        	</xpath>
	        	<xpath expr="//field[@name='line_cr_ids']/tree/field[@name='account_analytic_id']" position="after">
	        		<field name="type_lctt" required='1'/>
	        	</xpath>
	        	<xpath expr="//field[@name='journal_id']" position="replace">
	        		<field name="journal_id"
	                    domain="[('type','in',['cash','bank','sale','sale_refund'])]"
	                    widget="selection"
	                    on_change="onchange_journal(journal_id, line_cr_ids, tax_id, partner_id, date, amount, type, company_id, context)"
	                    groups="account.group_account_user"/>
	        	</xpath>
	        </field>
    	</record>

<!-- Chinh sua Hoa don NCC -->
        <record model="ir.ui.view" id="view_invoice_supplier_form_remove_editable">
	        <field name="name">view.invoice.supplier.form.remove.editable</field>
	        <field name="model">account.invoice</field>
	        <field name="inherit_id" ref="account.invoice_supplier_form"/>
	        <field name="arch" type="xml">
	        <label for="reference_type"/>
	        	<xpath expr="//field[@name='date_invoice']" position="after">
	        		<field name="date_document"/>
	        	</xpath>
	        	<xpath expr="//field[@name='fiscal_position']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//field[@name='reference']" position="replace">
				</xpath>
				<xpath expr="//field[@name='supplier_invoice_number']" position="after">
					<field name="reference_number" string = "Số hóa đơn"/>
					<field name="reference" string = "Ký hiệu hóa đơn"/>
				</xpath>
				<xpath expr="//field[@name='supplier_invoice_number']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//label[@for='reference_type']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//form/sheet/group/group/div" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
	        </field>
    	</record>

<!-- Sales Voucher -->
	    <record id="account_voucher.action_sale_receipt" model="ir.actions.act_window">
	        <field name="name">Sales Receipts</field>
	        <field name="res_model">account.voucher</field>
	        <field name="view_type">form</field>
	        <!--field name="domain">[('journal_id.type','in',['sale','sale_refund']), ('type','=','sale')]</field-->
	        <field name="domain">[('journal_id.type','in',['cash','bank']),('type','=','sale')]</field>
	        <field name="context">{'default_type': 'sale', 'type': 'sale', 'voucher_journal_type':['cash','bank']}</field>
	        <field name="view_id" eval="False"/>
	        <field name="search_view_id" ref="account_voucher.view_voucher_filter_sale"/>
	        <field name="target">current</field>
	        <field name="help" type="html">
	          <p class="oe_view_nocontent_create">
	            Click to create a sale receipt.
	          </p><p>
	            When the sale receipt is confirmed, you can record the customer
	            payment related to this sales receipt.
	          </p>
	        </field>
	    </record>
        
<!-- Purchase Voucher -->
    	<record id="account_voucher.action_purchase_receipt" model="ir.actions.act_window">
            <field name="name">Purchase Receipts</field>
            <field name="res_model">account.voucher</field>
            <field name="view_type">form</field>
            <!--field name="domain">[('journal_id.type','in',['purchase','purchase_refund']), ('type','=','purchase')]</field-->
            <field name="domain">[('type','=','purchase')]</field>
            <field name="context">{'default_type': 'purchase', 'type': 'purchase'}</field>
            <field name="view_id" eval="False"/>
            <field name="search_view_id" ref="account_voucher.view_voucher_filter_vendor"/>
            <field name="target">current</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to register a purchase receipt. 
              </p><p>
                When the purchase receipt is confirmed, you can record the
                supplier payment related to this purchase receipt.
              </p>
            </field>
        </record>

    </data>
</openerp>