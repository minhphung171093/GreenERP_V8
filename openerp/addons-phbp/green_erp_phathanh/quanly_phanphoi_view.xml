<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

<!--Quan lý phan phoi ve truyen thong-->   
        <record model="ir.ui.view" id="phanphoi_truyenthong_tree">
            <field name="name">phanphoi.truyenthong.tree</field>
            <field name="model">phanphoi.truyenthong</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Phân phối vé truyền thống" >
                    <field name="ky_ve_id" />
                    <field name="loai_ve_id" />
                    <field name="ngay_ph" />
                </tree>
            </field>
        </record>  
        
       	<record model="ir.ui.view" id="phanphoi_truyenthong_form">
	        <field name="name">phanphoi.truyenthong.form</field>
	        <field name="model">phanphoi.truyenthong</field>
	        <field name="arch" type="xml">
	            <form string="Phân phối vé truyền thống" version="7.0">
	            	<sheet>
		            	<group col="4" colspan="2">
	                		<field name="ky_ve_id" options="{'no_create':True}" context="{'search_ky_ve':1}" on_change="onchange_previous_phanphoi(ky_ve_id,loai_ve_id)"/>
		                    <field name="loai_ve_id" options="{'no_create':True}" on_change="onchange_previous_phanphoi(ky_ve_id,loai_ve_id)"/>
		                    <field name="ngay_ph" />
			            </group>
			            <notebook>
							<page string = "Chi tiết phân phối">
								<field name="phanphoi_tt_line" nolabel='1'>
									<tree editable='bottom'>
										<field name="daily_id" options="{'no_create':True}" on_change="onchange_daily_id(daily_id)"/>
										<field name="ten_daily" invisible='1'/>
										<field name="socay_kytruoc" />
										<field name="sove_kytruoc" /> 
										<field name="socay_kynay" /> 
										<field name="sove_kynay" /> 
										<field name="tang_giam" /> 
										<field name="phanphoi_line_kytruoc_id" invisible = '1'/> 
									</tree>
								</field>
							</page>
						</notebook>
		            </sheet>		                
	            </form>
	        </field>
		</record>
        <record model="ir.actions.act_window" id="action_phanphoi_truyenthong">
            <field name="name">Phân phối vé truyền thống</field>
            <field name="res_model">phanphoi.truyenthong</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>  
        
<!--Dieu chinh ke hoach phan phoi-->   
        <record model="ir.ui.view" id="dieuchinh_phanphoi_ve_tree">
            <field name="name">dieuchinh.phanphoi.ve.tree</field>
            <field name="model">dieuchinh.phanphoi.ve</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Điều chỉnh kế hoạch phân phối vé" >
                    <field name="ky_ve_id" />
                    <field name="loai_ve_id" />
                    <field name="ngay_ph" />
                    <field name="tong_ve_pp" />
                    <field name="tong_ve_dc" />
                    <field name="tong_ve_sau_dc" />
                </tree>
            </field>
        </record>  
        
       	<record model="ir.ui.view" id="dieuchinh_phanphoi_ve_form">
	        <field name="name">dieuchinh.phanphoi.ve.form</field>
	        <field name="model">dieuchinh.phanphoi.ve</field>
	        <field name="arch" type="xml">
	            <form string="Điều chỉnh kế hoạch phân phối vé" version="8.0">
	            	<header>
	            		<button name="print_xls" string="In" type="object" class="oe_highlight"/>
	            	</header>  
	            	<sheet>
		            	<group col="4" colspan="2">
	                		<field name="ky_ve_id" options="{'no_create':True}" on_change="onchange_ky_ve(ky_ve_id)" context="{'search_ky_ve_dieuchinh':1}"/>
		                    <field name="loai_ve_id" options="{'no_create':True}" />
		                    <field name="ngay_ph" />
		                    <field name="ngay_dc" />
			            </group>
			            <notebook>
							<page string = "Chi tiết điều chỉnh">
								<field name="dieuchinh_line" nolabel='1'>
									<tree editable='bottom'>
										<field name="daily_id" options="{'no_create':True}" context="{'search_dai_ly':1,'ky_ve_id':parent.ky_ve_id,'loai_ve_id':parent.loai_ve_id,'ngay_ph':parent.ngay_ph}" on_change="onchange_daily_dc_id(daily_id,parent.ky_ve_id)"/>
										<field name="ten_daily" invisible='1'/>
										<field name="sove_duocduyet" />
										<field name="sove_dc" /> 
										<field name="sove_sau_dc" /> 
										<field name="phanphoi_line_id" invisible = '1'/> 
									</tree>
								</field>
								<group>
	                            	<group class="oe_subtotal_footer oe_left" >
	                                	<field name="total_ve_pp" widget="monetary" />
	                                	<field name="total_ve_dc" widget="monetary" />     
	                                		<div class="oe_subtotal_footer_separator oe_inline">
	                                     		<label for="tong_ve_sau_dc"/>  
	                                		</div>
	                                 	<field name="total_ve_sau_dc" nolabel="1" class="oe_subtotal_footer_separator" widget="monetary" />  
	                            	</group>  
	                            	<group class="oe_subtotal_footer oe_right" >
	                                	<field name="tong_ve_pp" widget="monetary" />
	                                	<field name="tong_ve_dc" widget="monetary" />     
	                                		<div class="oe_subtotal_footer_separator oe_inline">
	                                     		<label for="tong_ve_sau_dc"/>  
	                                		</div>
	                                 	<field name="tong_ve_sau_dc" nolabel="1" class="oe_subtotal_footer_separator" widget="monetary" />  
	                            	</group>  
	                            </group>
                            	<div class="oe_clear"/>  
                            	
                            	
							</page>
						</notebook>
		            </sheet>		                
	            </form>
	        </field>
		</record>
        <record model="ir.actions.act_window" id="action_dieuchinh_phanphoi_ve">
            <field name="name">Điều chỉnh kế hoạch phân phối vé</field>
            <field name="res_model">dieuchinh.phanphoi.ve</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'readonly_by_pass': True}</field>
        </record>  

<!--Quan lý nhập vé ế theo khu vực-->   
        <record model="ir.ui.view" id="nhap_ve_e_tree">
            <field name="name">nhap.ve.e.tree</field>
            <field name="model">nhap.ve.e</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Nhập vé ế theo khu vực" >
                    <field name="ky_ve_id" options="{'no_create':True}" />
                    <field name="loai_ve_id" options="{'no_create':True}" />
                    <field name="ngay_mo_thuong" />
                </tree>
            </field>
        </record>  
        
       	<record model="ir.ui.view" id="nhap_ve_e_form">
	        <field name="name">nhap.ve.e.form</field>
	        <field name="model">nhap.ve.e</field>
	        <field name="arch" type="xml">
	            <form string="Nhập vé ế theo khu vực" version="7.0">
	            	<sheet>
		            	<group col="4" colspan="2">
	                		<field name="ky_ve_id" options="{'no_create':True}" on_change="onchange_ky_ve_id(ky_ve_id)" context="{'search_ky_ve_e':1}"/>
		                    <field name="loai_ve_id" options="{'no_create':True}"/>
		                    <field name="ngay_mo_thuong" readonly="1" />
			            </group>
			            <notebook>
							<page string = "Chi tiết nhập vé ế">
								<field name="nhap_ve_e_line" nolabel='1'>
									<tree editable='bottom' >
										<field name="daily_id" options="{'no_create':True}" context="{'search_dai_ly':1,'ky_ve_id':parent.ky_ve_id,'loai_ve_id':parent.loai_ve_id}" on_change="onchange_daily_id(daily_id,parent.ky_ve_id)"/>
										<field name="ten_daily" invisible='1'/>
										<field name="diem_tra_e_id" options="{'no_create':True}" />
										<field name="ma_khu_vuc" /> 
										<field name="ve_e_theo_bangke" /> 
										<field name="kiem_dem_thua" /> 
										<field name="kiem_dem_thieu"/> 
										<field name="thuc_kiem" /> 
										<field name="ghi_chu" /> 
										<field name="phanphoi_line_id" invisible = '1'/> 
									</tree>
								</field>
							</page>
						</notebook>
		            </sheet>		                
	            </form>
	        </field>
		</record>
        <record model="ir.actions.act_window" id="action_nhap_ve_e">
            <field name="name">Nhập vé ế theo khu vực</field>
            <field name="res_model">nhap.ve.e</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'readonly_by_pass': True}</field>
        </record>  

<!--Kế hoạch in vé số truyền thống-->   
        <record model="ir.ui.view" id="kh_in_ve_tt_tree">
            <field name="name">kh.in.ve.tt.tree</field>
            <field name="model">kh.in.ve.tt</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Kế hoạch in vé số truyền thống" >
                    <field name="name" />
                    <field name="year" />
                    <field name="tong_so_dot_in" />  
                    <field name="loai_ve_id" options="{'no_create':True}" />
                    <field name="tong_so_ve_in" />
                </tree>
            </field>
        </record>  
        
       	<record model="ir.ui.view" id="kh_in_ve_tt_form">
	        <field name="name">kh.in.ve.tt.form</field>
	        <field name="model">kh.in.ve.tt</field>
	        <field name="arch" type="xml">
	            <form string="Kế hoạch in vé số truyền thống" version="7.0">
	            	<sheet>
		            	<group col="4" colspan="2">
	                		<field name="name" />
	                		<field name="year" />
	                        <field name="tong_so_dot_in" />
	                        <field name="tong_so_ve_in" />
		                    <field name="loai_ve_id" options="{'no_create':True}" />
		                    <field name="sl_in_moi_dot" />
		                    
		                    <field name="kich_co" />
			            </group>
			            <notebook>
							<page string = "Chi tiết Kế hoạch in">
								<field name="kh_in_ve_tt_line" nolabel='1'>
									<tree editable='bottom' >
										<field name="ngay_mo_thuong" readonly="1" />
										<field name="ky_ve_id" options="{'no_create':True}" on_change="onchange_ky_ve_id(ky_ve_id)" />
										<field name="ngay_nhan" /> 
										<field name="sl_ve_in" /> 
									</tree>
								</field>
							</page>
						</notebook>
		            </sheet>		                
	            </form>
	        </field>
		</record>
        <record model="ir.actions.act_window" id="action_kh_in_ve_tt">
            <field name="name">Kế hoạch in vé số truyền thống</field>
            <field name="res_model">kh.in.ve.tt</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'readonly_by_pass': True}</field>
        </record>  
<!--

        <record model="ir.ui.view" id="kh_in_ve_tu_chon_tree">
            <field name="name">kh.in.ve.tu.chon.tree</field>
            <field name="model">kh.in.ve.tu.chon</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Kế hoạch in vé số tự chọn" >
                    <field name="name" />
                    <field name="year" />
                    <field name="thoigian_giaohang" />  
                    <field name="noi_dung_khac" />
                </tree>
            </field>
        </record>  
        
       	<record model="ir.ui.view" id="kh_in_ve_tu_chon_form">
	        <field name="name">kh.in.ve.tu.chon.form</field>
	        <field name="model">kh.in.ve.tu.chon</field>
	        <field name="arch" type="xml">
	            <form string="Kế hoạch in vé số tự chọn" version="7.0">
	            	<sheet>
		            	<group col="4" colspan="2">
	                		<field name="name" />
	                		<field name="year" />
	                        <field name="thoigian_giaohang" />  
                    		<field name="noi_dung_khac" />
			            </group>
			            <notebook>
							<page string = "Chi tiết Kế hoạch in">
								<field name="kh_in_ve_tu_chon_line" nolabel='1'>
									<tree editable='bottom' >
										<field name="loai_ve_id" options="{'no_create':True}" />
										<field name="ky_hieu" />
										<field name="seri" /> 
										<field name="so_luong" /> 
									</tree>
								</field>
							</page>
						</notebook>
		            </sheet>		                
	            </form>
	        </field>
		</record>
        <record model="ir.actions.act_window" id="action_kh_in_ve_tu_chon">
            <field name="name">Kế hoạch in vé số tự chọn</field>
            <field name="res_model">kh.in.ve.tu.chon</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'readonly_by_pass': True}</field>
        </record>  -->

<!--Kế hoạch doanh thu theo loại hình-->   
        <record model="ir.ui.view" id="doanhthu_theo_loaihinh_tree">
            <field name="name">doanhthu.theo.loaihinh.tree</field>
            <field name="model">doanhthu.theo.loaihinh</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Kế hoạch doanh thu theo loại hình" >
                    <field name="year" />
                    <field name="loai_hinh_id" />
                </tree>
            </field>
        </record>  
        
       	<record model="ir.ui.view" id="doanhthu_theo_loaihinh_form">
	        <field name="name">doanhthu.theo.loaihinh.form</field>
	        <field name="model">doanhthu.theo.loaihinh</field>
	        <field name="arch" type="xml">
	            <form string="Kế hoạch doanh thu theo loại hình" version="7.0">
	            	<sheet>
		            	<group col="4" colspan="2">
	                		<field name="loai_hinh_id" options="{'no_create':True}" on_change = "onchange_loai_hinh_id(loai_hinh_id)"/>
	                		<field name="year" />
			            </group>
			            <notebook>
							<page string = "Chi tiết chỉ tiêu">
								<field name="dt_theo_loaihinh_line" nolabel='1'>
									<tree editable='bottom' >
										<field name="chi_tieu_id" options="{'no_create':True}" />
										<field name="kehoach_namtruoc" />
										<field name="thuchien_namtruoc" /> 
										<field name="kehoach_namnay" />
										<field name="tyle" />
										<field name="phan_dau" /> 
										<field name="tyle_phandau" />  
									</tree>
								</field>
							</page>
						</notebook>
		            </sheet>		                
	            </form>
	        </field>
		</record>
        <record model="ir.actions.act_window" id="action_doanhthu_theo_loaihinh">
            <field name="name">Kế hoạch doanh thu theo loại hình</field>
            <field name="res_model">doanhthu.theo.loaihinh</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'readonly_by_pass': True}</field>
        </record>  

<!--Nhập vé-->   
        <record model="ir.ui.view" id="nhap_ve_tree">
            <field name="name">nhap.ve.tree</field>
            <field name="model">nhap.ve</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="KH in vé số tự chọn" >
                    <field name="name" />
                    <field name="ngay_nhap" />
                    <field name="noi_dung_khac" />
                </tree>
            </field>
        </record>  
        
       	<record model="ir.ui.view" id="nhap_ve_form">
	        <field name="name">nhap.ve.form</field>
	        <field name="model">nhap.ve</field>
	        <field name="arch" type="xml">
	            <form string="KH in vé số tự chọn" version="7.0">
	            	<sheet>
		            	<group col="4" colspan="2">
		                    <field name="name" />
		                    <field name="ngay_nhap" />
		                    <field name="noi_dung_khac" />
			            </group>
			            <notebook>
							<page string = "Chi tiết nhập vé ">
								<field name="nhap_ve_line" nolabel='1'>
									<tree editable='bottom' >
										<field name="loai_ve_id" options="{'no_create':True}" on_change = "onchange_thanh_tien(loai_ve_id,so_luong)" />
										<field name="ky_hieu"/> 
										<field name="seri"/> 
										<field name="so_luong" on_change = "onchange_thanh_tien(loai_ve_id,so_luong)" sum="Total" />
										<field name="thanh_tien" sum="Total" /> 
									</tree>
								</field>
							</page>
						</notebook>
		            </sheet>		                
	            </form>
	        </field>
		</record>
        <record model="ir.actions.act_window" id="action_nhap_ve">
            <field name="name">KH in vé số tự chọn</field>
            <field name="res_model">nhap.ve</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'readonly_by_pass': True}</field>
        </record>     
        
<!--Xuất vé-->   
        <record model="ir.ui.view" id="xuat_ve_tree">
            <field name="name">xuat.ve.tree</field>
            <field name="model">xuat.ve</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Xuất vé" >
                    <field name="name" />
                </tree>
            </field>
        </record>  
        
       	<record model="ir.ui.view" id="xuat_ve_form">
	        <field name="name">xuat.ve.form</field>
	        <field name="model">xuat.ve</field>
	        <field name="arch" type="xml">
	            <form string="Xuất vé " version="7.0">
	            	<sheet>
		            	<group col="4" colspan="2">
		                    <field name="name" />
			            </group>
			            <notebook>
							<page string = "Chi tiết xuất vé ">
								<field name="xuat_ve_line" nolabel='1'>
									<tree editable='bottom' >
										<field name="loai_ve_id" options="{'no_create':True}" on_change = "onchange_thanh_tien(loai_ve_id,so_luong)" />
										<field name="so_luong" on_change = "onchange_thanh_tien(loai_ve_id,so_luong)" sum="Total" />
										<field name="thanh_tien" sum="Total" /> 
									</tree>
								</field>
							</page>
						</notebook>
		            </sheet>		                
	            </form>
	        </field>
		</record>
        <record model="ir.actions.act_window" id="action_xuat_ve">
            <field name="name">Xuất vé</field>
            <field name="res_model">xuat.ve</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'readonly_by_pass': True}</field>
        </record>   
    </data>
</openerp>
