<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

<!-- Thêm bãi giao ca --> 
        <record id="view_partner_property_form_inherit" model="ir.ui.view">
            <field name="name">res.partner.property.form.inherit</field>
            <field name="model">res.partner</field>
            <field name="priority">2</field>
            <field name="inherit_id" ref="account.view_partner_property_form"/>
            <field name="groups_id" eval="[(4, ref('account.group_account_invoice'))]"/>
            <field name="arch" type="xml">
                <field name="property_account_receivable" position="replace">
                	<field name="property_account_receivable" attrs="{'required':[('customer','=',True)]}"/>
                	<field name="bai_giaoca_id"/>
                </field>
                <field name="property_account_payable" position="replace">
                	<field name="property_account_payable" attrs="{'required':[('supplier','=',True)]}"/>
                	<field name="loai_doituong_id" invisible='1'/>
                </field>
            </field>
        </record>
        <record id="res_partner_kanban_view_inherit" model="ir.ui.view">
            <field name="name">res.partner.kanban.inherit</field>
            <field name="model">res.partner</field>
            <field name="priority">2</field>
            <field name="inherit_id" ref="base.res_partner_kanban_view"/>
            <field name="arch" type="xml">
                <field name="category_id" position="after">
                	<field name="loai_doituong_id" invisible='1'/>
                </field>
            </field>
        </record>
        <record id="view_partner_tree_inherit" model="ir.ui.view">
            <field name="name">res.partner.tree.inherit</field>
            <field name="model">res.partner</field>
            <field name="priority">2</field>
            <field name="inherit_id" ref="base.view_partner_tree"/>
            <field name="arch" type="xml">
                <field name="parent_id" position="after">
                	<field name="loai_doituong_id" invisible='1'/>
                </field>
            </field>
        </record>
        <record id="view_res_partner_filter_inherit" model="ir.ui.view">
            <field name="name">res.partner.filter.inherit</field>
            <field name="model">res.partner</field>
            <field name="priority">2</field>
            <field name="inherit_id" ref="base.view_res_partner_filter"/>
            <field name="arch" type="xml">
                <field name="name" position="after">
                	<field name="ma_doi_tuong"/>
                </field>
                <group string="Group By" position="replace">
                </group>
                <filter help="My Partners" position="replace">
                </filter>
                <filter name="type_person" position="replace">
                </filter>
                <filter name="type_company" position="replace">
                </filter>
                <filter name="customer" position="replace">
                </filter>
                <filter name="supplier" position="replace">
                	<filter string="Suppliers" invisible='1' name="supplier" domain="[('supplier','=',1)]" help="Supplier Partners"/>
                </filter>
                <field name="category_id" position="replace">
                </field>
                <field name="user_id" position="replace">
                </field>
                <field name="parent_id" position="replace">
                </field>
            </field>
        </record>
        <record id="res_partner_opt_out_search_inherit" model="ir.ui.view">
            <field name="name">res.partner.filter.inherit</field>
            <field name="model">res.partner</field>
            <field name="priority">2</field>
            <field name="inherit_id" ref="email_template.res_partner_opt_out_search"/>
            <field name="arch" type="xml">
                <filter string="Available for mass mailing" position="replace">
                </filter>
            </field>
        </record>

<!-- action đối tượng -->
		<record id="view_tai_xe_tree" model="ir.ui.view">
            <field name="name">tai.xe.tree</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <tree string="Lái xe">
                    <field name="ma_doi_tuong" string="Mã lái xe"/>
                    <field name="display_name" string="Tên lái xe"/>
                    <field name="function" invisible="1"/>
                    <field name="phone" string="Điện thoại"/>
                    <field name="bai_giaoca_id"/>
                    <field name="email"/>
                    <field name="user_id" invisible="1"/>
                    <field name="is_company" invisible="1"/>
                    <field name="country_id" invisible="1"/>
                    <field name="parent_id" invisible="1"/>
                </tree>
            </field>
        </record>
        <record id="view_tai_xe_form" model="ir.ui.view">
            <field name="name">tai.xe.form</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <form string="Lái xe">
                	<header>
                		<button name="cantru_kyquy" attrs="{'invisible':[('sotien_dathu','&lt;=',0)]}" string="Cấn trừ ký quỹ" type="object"/>
                	</header>
	                <sheet>
	                    <field name="image" widget="image" class="oe_left oe_avatar" options="{&quot;preview_image&quot;: &quot;image_medium&quot;, &quot;size&quot;: [90, 90]}"/>
	                    <div class="oe_title oe_left">
	                        <h1>
	                            <field name="name" default_focus="1" placeholder="Name"/>
	                        </h1>
	                    </div>
	                    <div class="oe_right oe_button_box" name="buttons"> </div>
	
	                    <group>
	                        <group>
	                        	<field name="ma_doi_tuong" string="Mã lái xe" required='1'/>
	                        	<field name="doituong_lienket"/>
	                        	<field name="cmnd"/>
	                        	<label for="street" string="Address" attrs="{'invisible':[('nhadautu','=',False)]}"/>
	                            <div attrs="{'invisible':[('nhadautu','=',False)]}">
	                                <field name="street" placeholder="Street..."/>
	                            </div>
	                        </group>
	                        <group>
	                        	<field name="mst" attrs="{'invisible':[('nhadautu','=',False)]}"/>
	                        	<field name="giayphep_kinhdoanh" attrs="{'invisible':[('nhadautu','=',False)]}"/>
	                        	<field name="phone" string="Điện thoại"/>
			                    <field name="email"/>
			                    <field name="loai_doituong_lienket" attrs="{'invisible':[('nhadautu','=',False)]}"/>
	                        </group>
	                    </group>
	
	                    <notebook colspan="4">
	                    	<page string="Accounting">
								<group>
									<group>
										<field name="chinhanh_id" domain="[('parent_id.code','=','1')]" on_change="onchange_chinhanh(chinhanh_id)" readonly='1' options="{'no_create': True}"/>
			                        	<field name="property_account_receivable" domain="['&amp;',('parent_id','=',chinhanh_id),'|',('loai_doituong','=',False),('loai_doituong','=','taixe')]" options="{'no_create': True}" on_change="onchange_property_account_receivable(property_account_receivable)" string="Đội xe" attrs="{'invisible':[('taixe','=',False),('nhanvienvanphong','=',False)],'required':['|',('taixe','=',True),('nhanvienvanphong','=',True)]}"/>
			                        	<field name="bai_giaoca_id" options="{'no_create': True}" domain="[('account_id','=',property_account_receivable)]" attrs="{'invisible':['|',('taixe','=',False),('property_account_receivable','=',False)]}"/>
			                        	<field name="property_account_payable" options="{'no_create': True}" invisible='1' attrs="{'invisible':[('taixe','=',False),('nhanvienvanphong','=',False)],'required':['|',('taixe','=',True),('nhanvienvanphong','=',True)]}"/>
			                        	<field name="account_ht_id" invisible='1'/>
			                        </group>
			                        <group>
			                        	<field name="customer" invisible='1'/>
					                    <field name="supplier" invisible='1'/>
					                    <field name="taixe" invisible='1'/>
					                    <field name="nhadautu" invisible='1'/>
					                    <field name="nhanvienvanphong" invisible='1'/>
			                        </group>
								</group>
								<field name="bank_ids" context="{'default_partner_id': active_id, 'form_view_ref': 'base.view_partner_bank_form'}">
			                        <tree string="Bank Details">
			                            <field name="state" invisible="1"/>
			                            <field name="sequence" invisible="1"/>
			                            <field name="acc_number"/>
			                            <field name="bank_name"/>
			                            <field name="owner_name"/>
			                        </tree>
			                    </field>	                    		
	                        </page>
	                        <page string="Chi nhánh" attrs="{'invisible':[('nhadautu','=',False)]}">
	                        	<field name="chinhanh_line" nolabel='1'>
				                    <tree editable='bottom'>
					                    <field name="chinhanh_id" options="{'no_create': True}" domain="[('parent_id.code','=','1')]"/>
					                    <field name="nhom_chinhanh_id" required='1' options="{'no_create': True}" domain="[('parent_id','=',chinhanh_id)]"/>
				                    </tree>
								</field>	                    		
	                        </page>
	                        <page string="Ký quỹ">
	                        	<group col='4' colspan='2'>
	                        		<field name="sotien_phaithu"/>
		                        	<field name="sotien_phaithu_dinhky"/>
		                        	<field name="sotien_dathu"/>
		                        	<field name="sotien_conlai"/>
	                        	</group>
	                        	<field name="ky_quy_ids" nolabel='1'/>
	                        </page>
	                        <page string="Công nợ">
	                        	<field name="tinh_congno" invisible='1'/>
	                        	<field name="congno_line" nolabel='1'>
	                        		<tree>
	                        			<field name="mlg_type"/>
			                        	<field name="sotien_congno"/>
			                        	<field name="sotien_dathu"/>
			                        	<field name="sotien_conlai"/>
	                        		</tree>
	                        	</field>
	                        </page>
	                    </notebook>
	                </sheet>
                </form>
            </field>
        </record>
        <record id="action_partner_taixe" model="ir.actions.act_window">
            <field name="name">Lái xe</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('taixe','=',True)]</field>
            <field name="context">{'readonly_by_pass':['chinhanh_id'],'default_customer':1,'default_supplier':1,'default_taixe':1, 'search_default_customer':1,'default_loai_doituong':'loai_doi_tuong_taixe'}</field>
            <field name="filter" eval="True"/>
        </record>
        <record id="action_partner_taixe0" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_partner_taixe"/>
        </record>
        <record id="action_partner_taixe1" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_tai_xe_tree"/>
            <field name="act_window_id" ref="action_partner_taixe"/>
        </record>
        <record id="action_partner_taixe2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_tai_xe_form"/>
            <field name="act_window_id" ref="action_partner_taixe"/>
        </record>
        
        <record id="view_nha_dau_tu_tree" model="ir.ui.view">
            <field name="name">nha.dau.tu.tree</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <tree string="Nhà đầu tư">
                    <field name="ma_doi_tuong" string="Mã nhà đầu tư"/>
                    <field name="display_name" string="Tên nhà đầu tư"/>
                    <field name="function" invisible="1"/>
                    <field name="phone" string="Điện thoại"/>
                    <field name="email"/>
                    <field name="user_id" invisible="1"/>
                    <field name="is_company" invisible="1"/>
                    <field name="country_id" invisible="1"/>
                    <field name="parent_id" invisible="1"/>
                </tree>
            </field>
        </record>
        <record id="view_nha_dau_tu_form" model="ir.ui.view">
            <field name="name">nha.dau.tu.form</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <form string="Nhà đầu tư">
                	<header>
                		<button name="cantru_kyquy" attrs="{'invisible':[('show_ctkq_ndt','=',False)]}" string="Cấn trừ ký quỹ" type="object"/>
                		<field name="show_ctkq_ndt" invisible="1"/>
                	</header>
	                <sheet>
	                    <field name="image" widget="image" class="oe_left oe_avatar" options="{&quot;preview_image&quot;: &quot;image_medium&quot;, &quot;size&quot;: [90, 90]}"/>
	                    <div class="oe_title oe_left">
	                        <h1>
	                            <field name="name" default_focus="1" placeholder="Name"/>
	                        </h1>
	                    </div>
	                    <div class="oe_right oe_button_box" name="buttons"> </div>
	
	                    <group>
	                        <group>
	                        	<field name="ma_doi_tuong" string="Mã nhà đầu tư" required='1'/>
	                        	<field name="doituong_lienket"/>
	                        	<field name="cmnd"/>
	                        	<label for="street" string="Address" attrs="{'invisible':[('nhadautu','=',False)]}"/>
	                            <div attrs="{'invisible':[('nhadautu','=',False)]}">
	                                <field name="street" placeholder="Street..."/>
	                            </div>
	                        </group>
	                        <group>
	                        	<field name="mst" attrs="{'invisible':[('nhadautu','=',False)]}"/>
	                        	<field name="giayphep_kinhdoanh" attrs="{'invisible':[('nhadautu','=',False)]}"/>
	                        	<field name="phone" string="Điện thoại"/>
			                    <field name="email"/>
			                    <field name="loai_doituong_lienket" attrs="{'invisible':[('nhadautu','=',False)]}"/>
	                        </group>
	                    </group>
	
	                    <notebook colspan="4">
	                    	<page string="Accounting">
								<group>
									<group>
			                        	<field name="chinhanh_id" invisible='1' readonly='1' options="{'no_create': True}"/>
			                        	<field name="property_account_receivable" domain="['&amp;',('parent_id','=',chinhanh_id),'|',('loai_doituong','=',False),('loai_doituong','=','nhadautu')]" on_change="onchange_property_account_receivable(property_account_receivable)" string="Đội xe" attrs="{'invisible':[('taixe','=',False),('nhanvienvanphong','=',False)],'required':['|',('taixe','=',True),('nhanvienvanphong','=',True)]}"/>
			                        	<field name="bai_giaoca_id" options="{'no_create': True}" domain="[('account_id','=',property_account_receivable)]" attrs="{'invisible':['|',('taixe','=',False),('property_account_receivable','=',False)]}"/>
			                        	<field name="property_account_payable" options="{'no_create': True}" invisible='1' attrs="{'invisible':[('taixe','=',False),('nhanvienvanphong','=',False)],'required':['|',('taixe','=',True),('nhanvienvanphong','=',True)]}"/>
			                        	<field name="account_ht_id" invisible='1'/>
			                        </group>
			                        <group>
			                        	<field name="customer" invisible='1'/>
					                    <field name="supplier" invisible='1'/>
					                    <field name="taixe" invisible='1'/>
					                    <field name="nhadautu" invisible='1'/>
					                    <field name="nhanvienvanphong" invisible='1'/>
			                        </group>
								</group>
								<field name="bank_ids" context="{'default_partner_id': active_id, 'form_view_ref': 'base.view_partner_bank_form'}">
			                        <tree string="Bank Details">
			                            <field name="state" invisible="1"/>
			                            <field name="sequence" invisible="1"/>
			                            <field name="acc_number"/>
			                            <field name="bank_name"/>
			                            <field name="owner_name"/>
			                        </tree>
			                    </field>	                    		
	                        </page>
	                        <page string="Chi nhánh" attrs="{'invisible':[('nhadautu','=',False)]}">
	                        	<field name="chinhanh_line" nolabel='1'>
				                    <tree editable='bottom'>
					                    <field name="chinhanh_id" options="{'no_create': True}" domain="[('parent_id.code','=','1')]"/>
					                    <field name="nhom_chinhanh_id" required='1' options="{'no_create': True}" domain="['&amp;',('parent_id','=',chinhanh_id),'|',('loai_doituong','=',False),('loai_doituong','=','nhadautu')]"/>
					                    <field name="sotien_phaithu"/>
			                        	<field name="sotien_phaithu_dinhky"/>
			                        	<field name="sotien_dathu"/>
			                        	<field name="sotien_conlai"/>
				                    </tree>
								</field>	                    		
	                        </page>
	                        <!--<page string="Ký quỹ">
	                        	<group col='4' colspan='2'>
	                        		<field name="sotien_phaithu"/>
		                        	<field name="sotien_phaithu_dinhky"/>
		                        	<field name="sotien_dathu"/>
		                        	<field name="sotien_conlai"/>
	                        	</group>
	                        	<field name="ky_quy_ids" nolabel='1'/>
	                        </page>-->
	                        <page string="Công nợ">
	                        	<field name="tinh_congno" invisible='1'/>
	                        	<field name="congno_line" nolabel='1'>
	                        		<tree>
	                        			<field name="mlg_type"/>
			                        	<field name="sotien_congno"/>
			                        	<field name="sotien_dathu"/>
			                        	<field name="sotien_conlai"/>
	                        		</tree>
	                        	</field>
	                        </page>
	                    </notebook>
	                </sheet>
                </form>
            </field>
        </record>
        <record id="action_partner_ndt" model="ir.actions.act_window">
            <field name="name">Nhà đầu tư</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('nhadautu','=',True)]</field>
            <field name="context">{'readonly_by_pass':['chinhanh_id'],'default_customer':1,'default_supplier':1,'default_nhadautu':1, 'search_default_customer':1,'loai_doituong':'loai_doi_tuong_ndt','default_loai_doituong':'Nhà đầu tư'}</field>
            <field name="filter" eval="True"/>
        </record>
        <record id="action_partner_ndt0" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_partner_ndt"/>
        </record>
        <record id="action_partner_ndt1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_nha_dau_tu_tree"/>
            <field name="act_window_id" ref="action_partner_ndt"/>
        </record>
        <record id="action_partner_ndt2" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_nha_dau_tu_form"/>
            <field name="act_window_id" ref="action_partner_ndt"/>
        </record>
        
        <record id="view_nhanvienvanphong_tree" model="ir.ui.view">
            <field name="name">nhanvienvanphong.tree</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <tree string="Nhân viên văn phòng">
                    <field name="ma_doi_tuong" string="Mã nhân viên"/>
                    <field name="display_name" string="Tên nhân viên"/>
                    <field name="function" invisible="1"/>
                    <field name="phone" string="Điện thoại"/>
                    <field name="bai_giaoca_id"/>
                    <field name="email"/>
                    <field name="user_id" invisible="1"/>
                    <field name="is_company" invisible="1"/>
                    <field name="country_id" invisible="1"/>
                    <field name="parent_id" invisible="1"/>
                </tree>
            </field>
        </record>
        <record id="view_nhanvienvanphong_form" model="ir.ui.view">
            <field name="name">nhanvienvanphong.form</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <form string="Nhân viên văn phòng">
                	<header>
                		<button name="cantru_kyquy" attrs="{'invisible':[('sotien_dathu','&lt;=',0)]}" string="Cấn trừ ký quỹ" type="object"/>
                	</header>
	                <sheet>
	                    <field name="image" widget="image" class="oe_left oe_avatar" options="{&quot;preview_image&quot;: &quot;image_medium&quot;, &quot;size&quot;: [90, 90]}"/>
	                    <div class="oe_title oe_left">
	                        <h1>
	                            <field name="name" default_focus="1" placeholder="Name"/>
	                        </h1>
	                    </div>
	                    <div class="oe_right oe_button_box" name="buttons"> </div>
	
	                    <group>
	                        <group>
	                        	<field name="ma_doi_tuong" string="Mã nhân viên văn phòng" required='1'/>
	                        	<field name="doituong_lienket"/>
	                        	<field name="cmnd"/>
	                        	<label for="street" string="Address" attrs="{'invisible':[('nhadautu','=',False)]}"/>
	                            <div attrs="{'invisible':[('nhadautu','=',False)]}">
	                                <field name="street" placeholder="Street..."/>
	                            </div>
	                        </group>
	                        <group>
	                        	<field name="mst" attrs="{'invisible':[('nhadautu','=',False)]}"/>
	                        	<field name="giayphep_kinhdoanh" attrs="{'invisible':[('nhadautu','=',False)]}"/>
	                        	<field name="phone" string="Điện thoại"/>
			                    <field name="email"/>
			                    <field name="loai_doituong_lienket" attrs="{'invisible':[('nhadautu','=',False)]}"/>
	                        </group>
	                    </group>
	
	                    <notebook colspan="4">
	                    	<page string="Accounting">
								<group>
									<group>
			                        	<field name="chinhanh_id" domain="[('parent_id.code','=','1')]" on_change="onchange_chinhanh(chinhanh_id)" readonly='1' options="{'no_create': True}"/>
			                        	<field name="property_account_receivable" domain="['&amp;',('parent_id','=',chinhanh_id),'|',('loai_doituong','=',False),('loai_doituong','=','nhanvienvanphong')]" options="{'no_create': True}" on_change="onchange_property_account_receivable(property_account_receivable)" string="Văn phòng" attrs="{'invisible':[('taixe','=',False),('nhanvienvanphong','=',False)],'required':['|',('taixe','=',True),('nhanvienvanphong','=',True)]}"/>
			                        	<field name="bai_giaoca_id" options="{'no_create': True}" domain="[('account_id','=',property_account_receivable)]" attrs="{'invisible':['|',('taixe','=',False),('property_account_receivable','=',False)]}"/>
			                        	<field name="property_account_payable" options="{'no_create': True}" invisible='1' attrs="{'invisible':[('taixe','=',False),('nhanvienvanphong','=',False)],'required':['|',('taixe','=',True),('nhanvienvanphong','=',True)]}"/>
			                        	<field name="account_ht_id" invisible='1'/>
			                        </group>
			                        <group>
			                        	<field name="customer" invisible='1'/>
					                    <field name="supplier" invisible='1'/>
					                    <field name="taixe" invisible='1'/>
					                    <field name="nhadautu" invisible='1'/>
					                    <field name="nhanvienvanphong" invisible='1'/>
			                        </group>
								</group>
								<field name="bank_ids" context="{'default_partner_id': active_id, 'form_view_ref': 'base.view_partner_bank_form'}">
			                        <tree string="Bank Details">
			                            <field name="state" invisible="1"/>
			                            <field name="sequence" invisible="1"/>
			                            <field name="acc_number"/>
			                            <field name="bank_name"/>
			                            <field name="owner_name"/>
			                        </tree>
			                    </field>	                    		
	                        </page>
	                        <page string="Chi nhánh" attrs="{'invisible':[('nhadautu','=',False)]}">
	                        	<field name="chinhanh_line" nolabel='1'>
				                    <tree editable='bottom'>
					                    <field name="chinhanh_id" options="{'no_create': True}" domain="[('parent_id.code','=','1')]"/>
					                    <field name="nhom_chinhanh_id" required='1' options="{'no_create': True}" domain="[('parent_id','=',chinhanh_id)]"/>
				                    </tree>
								</field>	                    		
	                        </page>
	                        <page string="Ký quỹ">
	                        	<group col='4' colspan='2'>
	                        		<field name="sotien_phaithu"/>
		                        	<field name="sotien_phaithu_dinhky"/>
		                        	<field name="sotien_dathu"/>
		                        	<field name="sotien_conlai"/>
	                        	</group>
	                        	<field name="ky_quy_ids" nolabel='1'/>
	                        </page>
	                        <page string="Công nợ">
	                        	<field name="tinh_congno" invisible='1'/>
	                        	<field name="congno_line" nolabel='1'>
	                        		<tree>
	                        			<field name="mlg_type"/>
			                        	<field name="sotien_congno"/>
			                        	<field name="sotien_dathu"/>
			                        	<field name="sotien_conlai"/>
	                        		</tree>
	                        	</field>
	                        </page>
	                    </notebook>
	                </sheet>
                </form>
            </field>
        </record>
        <record id="action_partner_nvvp" model="ir.actions.act_window">
            <field name="name">Nhân viên văn phòng</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('nhanvienvanphong','=',True)]</field>
            <field name="context">{'readonly_by_pass':['chinhanh_id'],'default_customer':1,'default_supplier':1,'default_nhanvienvanphong':1, 'search_default_customer':1,'default_loai_doituong':'loai_doi_tuong_nvvp'}</field>
            <field name="filter" eval="True"/>
        </record>
        <record id="action_partner_nvvp0" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_partner_nvvp"/>
        </record>
        <record id="action_partner_nvvp1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_nhanvienvanphong_tree"/>
            <field name="act_window_id" ref="action_partner_nvvp"/>
        </record>
        <record id="action_partner_nvvp2" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_nhanvienvanphong_form"/>
            <field name="act_window_id" ref="action_partner_nvvp"/>
        </record>
        
        <record id="view_nha_dau_tu_giantiep_tree" model="ir.ui.view">
            <field name="name">nha.dau.tu.giantiep.tree</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <tree string="Nhà đầu tư gián tiếp">
                    <field name="ma_doi_tuong" string="Mã nhà đầu tư"/>
                    <field name="display_name" string="Tên nhà đầu tư"/>
                    <field name="function" invisible="1"/>
                    <field name="phone" string="Điện thoại"/>
                    <field name="email"/>
                    <field name="user_id" invisible="1"/>
                    <field name="is_company" invisible="1"/>
                    <field name="country_id" invisible="1"/>
                    <field name="parent_id" invisible="1"/>
                </tree>
            </field>
        </record>
        <record id="view_nha_dau_tu_giantiep_form" model="ir.ui.view">
            <field name="name">nha.dau.tu.giantiep.form</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <form string="Nhà đầu tư gián tiếp">
	                <sheet>
	                    <field name="image" widget="image" class="oe_left oe_avatar" options="{&quot;preview_image&quot;: &quot;image_medium&quot;, &quot;size&quot;: [90, 90]}"/>
	                    <div class="oe_title oe_left">
	                        <h1>
	                            <field name="name" default_focus="1" placeholder="Name"/>
	                        </h1>
	                    </div>
	                    <div class="oe_right oe_button_box" name="buttons"> </div>
	
	                    <group>
	                        <group>
	                        	<field name="ma_doi_tuong" string="Mã nhà đầu tư" required='1'/>
	                        	<field name="doituong_lienket"/>
	                        	<field name="cmnd"/>
	                        	<label for="street" string="Address"/>
	                            <div>
	                                <field name="street" placeholder="Street..."/>
	                            </div>
	                        </group>
	                        <group>
	                        	<field name="mst"/>
	                        	<field name="giayphep_kinhdoanh"/>
	                        	<field name="phone" string="Điện thoại"/>
			                    <field name="email"/>
			                    <field name="property_account_receivable" invisible='1'/>
	                        	<field name="property_account_payable" invisible='1'/>
	                        	<field name="account_ht_id" invisible='1'/>
	                        </group>
	                    </group>
	
	                   <notebook colspan="4">
	                        <page string="Chi nhánh">
	                        	<field name="chinhanh_line" nolabel='1'>
				                    <tree editable='bottom'>
					                    <field name="chinhanh_id" options="{'no_create': True}" domain="[('parent_id.code','=','1')]"/>
					                    <field name="nhom_chinhanh_id" invisible='1' options="{'no_create': True}" domain="[('parent_id.code','=','22')]"/>
				                    </tree>
								</field>	                    		
	                        </page>
	                    </notebook>
	                </sheet>
                </form>
            </field>
        </record>
        <record id="action_partner_ndt_giantiep" model="ir.actions.act_window">
            <field name="name">Nhà đầu tư gián tiếp</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('nhadautugiantiep','=',True)]</field>
            <field name="context">{'readonly_by_pass':['chinhanh_id'],'default_customer':1,'default_supplier':1,'default_nhadautugiantiep':1, 'search_default_customer':1,'matdinh_receivable_payable':1}</field>
            <field name="filter" eval="True"/>
        </record>
        <record id="action_partner_ndt_giantiep0" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_partner_ndt_giantiep"/>
        </record>
        <record id="action_partner_ndt_giantiep1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_nha_dau_tu_giantiep_tree"/>
            <field name="act_window_id" ref="action_partner_ndt_giantiep"/>
        </record>
        <record id="action_partner_ndt_giantiep2" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_nha_dau_tu_giantiep_form"/>
            <field name="act_window_id" ref="action_partner_ndt_giantiep"/>
        </record>
        
<!-- Thêm mã đối tượng và ẩn tags --> 
        <record id="view_partner_form_inherit" model="ir.ui.view">
            <field name="name">res.partner.property.form.inherit</field>
            <field name="model">res.partner</field>
            <field name="priority">2</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <field name="website" position="after">
                	<field name="ma_doi_tuong"/>
                	<field name="bien_so_xe_id" attrs="{'invisible':[('loai_doituong','!=','Nhà đầu tư')]}"/>
                	<field name="loai_doituong" invisible='1'/>
                </field>
                <field name="category_id" position="replace">
                	<field name="category_id" widget="many2many_tags" placeholder="Tags..." invisible='1'/>
                </field>
            </field>
        </record>
        
        <record model="ir.values" id="account.ir_values_account_partner_ledger">
           <field name="key2" eval="'client_print_multi'"/>
           <field name="model" eval="''"/>
           <field name="name">Print Partner Ledger</field>
           <field name="value" eval="'ir.actions.act_window,'"/>
       </record>
       
       <record id="view_tai_xe_form_noreadonly" model="ir.ui.view">
		   <field name="name">tai.xe.form.no.readonly</field>
		   <field name="model">res.partner</field>
		   <field name="inherit_id" ref="mlg_arap_account.view_tai_xe_form"/>
		   <field name="groups_id" eval="[(6, 0, [ref('mlg_arap_account.group_mlg_arap_director') ])]"/>
		   <field name="arch" type="xml">
		       <field name='chinhanh_id' position="attributes">
		           <attribute name="readonly">0</attribute>
		           <attribute name="required">1</attribute>
		       </field>
		   </field>
		</record>
       
       <record id="view_nhanvienvanphong_form_noreadonly" model="ir.ui.view">
		   <field name="name">nhanvienvanphong.form.no.readonly</field>
		   <field name="model">res.partner</field>
		   <field name="inherit_id" ref="mlg_arap_account.view_nhanvienvanphong_form"/>
		   <field name="groups_id" eval="[(6, 0, [ref('mlg_arap_account.group_mlg_arap_director') ])]"/>
		   <field name="arch" type="xml">
		       <field name='chinhanh_id' position="attributes">
		           <attribute name="readonly">0</attribute>
		           <attribute name="required">1</attribute>
		       </field>
		   </field>
		</record>
       
    </data>
</openerp>
